#!/bin/bash

database="csgo_weapons_db"

table1="main_data"
table2="accuracy"

function create {

psql \
\
  -c "DROP   DATABASE $database;" \
  -c "CREATE DATABASE $database;" \
  -c "\connect $database"         \
\
  -c "CREATE TABLE $table1( \
\
    id                integer PRIMARY KEY, \
    name              text,                \
    cost              integer,             \
    fire_rate         integer,             \
    mobility          integer,             \
    armor_penetration real,                \
    reload_speed      real,                \
    magazine          integer,             \
    ammunition        integer,             \
    recoil            real,                \
    spread            real);"              \
\
  -c "CREATE TABLE $table2( \
\
    id     integer REFERENCES $table1(id), \
    run    real,                           \
    stand  real,                           \
    crouch real);"                         \

}

function insert_table1 {

psql \
\
  -c "\connect $database" \
  -c "INSERT INTO $table1 VALUES \
\
  (0       , 'Glock 18'     , 200     , 400     , 240     , 47.00   , 2.30    , 20      , 120     , 18.0    , 2.00    ),  \
  (1       , 'P2000'        , 200     , 353     , 240     , 50.50   , 2.30    , 13      , 62      , 26.0    , 2.00    ),  \
  (2       , 'USP-S'        , 200     , 353     , 240     , 50.50   , 2.50    , 12      , 24      , 29.0    , 2.50    ),  \
  (3       , 'P250'         , 300     , 400     , 240     , 77.65   , 2.30    , 13      , 52      , 26.0    , 2.00    ),  \
  (4       , 'Tec-9'        , 500     , 500     , 240     , 90.60   , 2.70    , 32      , 120     , 23.0    , 2.00    ),  \
  (5       , 'Dual Berettas', 500     , 500     , 240     , 52.50   , 3.82    , 30      , 120     , 27.0    , 2.00    ),  \
  (6       , 'Five-SeveN'   , 500     , 400     , 240     , 91.15   , 2.30    , 20      , 100     , 25.0    , 2.00    ),  \
  (7       , 'CZ75 Auto'    , 500     , 600     , 240     , 77.65   , 2.90    , 12      , 12      , 27.0    , 3.00    ),  \
  (8       , 'Desert Eagle' , 700     , 267     , 230     , 93.20   , 2.30    , 7       , 35      , 48.2    , 2.00    ),  \
  (9       , 'Nova'         , 1200    , 68      , 220     , 50.00   , 0.00    , 8       , 32      , 143.0   , 40.0    ),  \
  (10      , 'Sawed-Off'    , 1200    , 71      , 210     , 75.00   , 0.00    , 7       , 32      , 143.0   , 62.0    ),  \
  (11      , 'MAG-7'        , 1800    , 71      , 225     , 75.00   , 2.50    , 5       , 32      , 165.0   , 40.0    ),  \
  (12      , 'XM1014'       , 2000    , 171     , 215     , 80.00   , 4.20    , 7       , 32      , 80.0    , 38.0    ),  \
  (13      , 'MAC-10'       , 1050    , 800     , 240     , 47.50   , 2.60    , 30      , 100     , 18.0    , 1.00    ),  \
  (14      , 'UMP-45'       , 1200    , 667     , 230     , 55.00   , 3.50    , 25      , 100     , 23.0    , 1.00    ),  \
  (15      , 'MP9'          , 1250    , 857     , 240     , 50.00   , 2.25    , 30      , 120     , 19.0    , 0.75    ),  \
  (16      , 'PP-Bizon'     , 1400    , 750     , 240     , 47.50   , 2.50    , 64      , 120     , 18.0    , 1.00    ),  \
  (17      , 'MP7'          , 1700    , 750     , 220     , 52.50   , 3.15    , 30      , 120     , 16.0    , 0.77    ),  \
  (18      , 'P90'          , 2350    , 857     , 230     , 65.00   , 3.40    , 50      , 100     , 16.0    , 1.00    ),  \
  (19      , 'Galil AR'     , 2000    , 667     , 215     , 77.50   , 3.05    , 35      , 90      , 21.0    , 0.60    ),  \
  (20      , 'FAMAS'        , 2250    , 667     , 220     , 70.00   , 3.35    , 25      , 90      , 20.0    , 0.60    ),  \
  (21      , 'AK-47'        , 2700    , 600     , 215     , 77.50   , 2.50    , 30      , 90      , 30.0    , 0.60    ),  \
  (22      , 'SG 553'       , 3000    , 667     , 210     , 100.00  , 2.80    , 30      , 90      , 28.0    , 0.50    ),  \
  (23      , 'M4A4-S'       , 3100    , 667     , 225     , 70.00   , 3.15    , 20      , 40      , 25.0    , 0.60    ),  \
  (24      , 'M4A4'         , 3100    , 667     , 225     , 70.00   , 3.15    , 30      , 90      , 23.0    , 0.60    ),  \
  (25      , 'AUG'          , 3300    , 667     , 220     , 90.00   , 3.80    , 30      , 90      , 26.0    , 0.50    ),  \
  (26      , 'M249'         , 5200    , 750     , 195     , 80.00   , 5.73    , 100     , 200     , 25.0    , 2.00    ),  \
  (27      , 'Negev'        , 5700    , 1000    , 195     , 75.00   , 5.73    , 150     , 200     , 22.0    , 2.00    ),  \
  (28      , 'SSG 08'       , 1700    , 48      , 230     , 85.00   , 3.70    , 10      , 90      , 33.0    , 0.28    ),  \
  (29      , 'AWP'          , 4750    , 41      , 200     , 97.50   , 3.70    , 10      , 30      , 78.0    , 0.20    ),  \
  (30      , 'G3SG1'        , 5000    , 240     , 215     , 82.50   , 4.70    , 20      , 90      , 30.0    , 0.30    ),  \
  (31      , 'SCAR-20'      , 5000    , 240     , 215     , 82.50   , 3.10    , 20      , 90      , 31.0    , 0.30    );" \

}

function insert_table2 {

psql \
\
  -c "\connect $database" \
  -c "INSERT INTO $table2 VALUES \
\
  ( 0,  12.00,  5.60,  4.20),
  ( 1,  13.00,  4.90,  3.68),
  ( 2,  13.87,  4.90,  3.68),
  ( 3,  13.41,  9.10,  6.83),
  ( 4,   3.81,  9.43,  7.57),
  ( 5,  17.85,  7.00,  5.25),
  ( 6,  13.41,  9.10,  6.83),
  ( 7,  13.41, 10.43,  7.60),
  ( 8,  48.10,  4.20,  2.18),
  ( 9,  36.75,  7.00,  5.25),
  (10,  16.80,  7.00,  5.25),
  (11,  15.99,  7.00,  5.25),
  (12,  36.03,  7.00,  5.25),
  (13,  24.99, 13.30,  9.98),
  (14,  28.76, 13.43, 10.07),
  (15,  19.04, 14.00, 10.50),
  (16,  27.57, 14.00, 10.50),
  (17,  39.86, 11.87,  8.92),
  (18,  31.00, 13.65, 10.24),
  (19, 123.56,  8.77,  6.58),
  (20,  99.34,  9.85,  7.39),
  (21, 175.06,  6.41,  4.81),
  (22, 136.01,  3.78,  2.84),
  (23,  92.88,  4.90,  3.68),
  (24, 137.88,  4.90,  3.68),
  (25, 135.45,  3.85,  2.88),
  (26, 156.25,  7.70,  5.34),
  (27, 159.14, 10.17,  7.63),
  (28, 123.45, 31.70, 23.78),
  (29, 176.48, 80.80, 60.60),
  (30, 150.48, 25.80, 19.35),
  (31, 150.48, 25.80, 19.35);"

}

function insert {

 insert_table1
 insert_table2

}

if   [[ $1 == "--create" ]]; then create
elif [[ $1 == "--insert" ]]; then insert
fi